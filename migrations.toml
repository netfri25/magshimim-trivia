# This file is auto-generated by Turbosql.
# It is used to create and apply automatic schema migrations.
# It should be checked into source control.
# Modifying it by hand may be dangerous; see the docs.

migrations_append_only = [
    "CREATE TABLE user (rowid INTEGER PRIMARY KEY) STRICT",
    "ALTER TABLE user ADD COLUMN username TEXT NOT NULL DEFAULT ''",
    "ALTER TABLE user ADD COLUMN password TEXT NOT NULL DEFAULT ''",
    "ALTER TABLE user ADD COLUMN email TEXT NOT NULL DEFAULT ''",
    "ALTER TABLE user ADD COLUMN phone TEXT NOT NULL DEFAULT ''",
    "ALTER TABLE user ADD COLUMN city TEXT NOT NULL DEFAULT ''",
    "ALTER TABLE user ADD COLUMN street TEXT NOT NULL DEFAULT ''",
    "ALTER TABLE user ADD COLUMN apartment INTEGER NOT NULL DEFAULT 0",
    "ALTER TABLE user ADD COLUMN birth_date TEXT NOT NULL DEFAULT ''",
    "CREATE TABLE question (rowid INTEGER PRIMARY KEY) STRICT",
    "ALTER TABLE question ADD COLUMN content TEXT NOT NULL DEFAULT ''",
    "CREATE TABLE answer (rowid INTEGER PRIMARY KEY) STRICT",
    "ALTER TABLE answer ADD COLUMN content TEXT NOT NULL DEFAULT ''",
    "ALTER TABLE answer ADD COLUMN correct INTEGER NOT NULL DEFAULT false",
    "ALTER TABLE answer ADD COLUMN question_id INTEGER NOT NULL DEFAULT 0",
    "CREATE TABLE statistics (rowid INTEGER PRIMARY KEY) STRICT",
    "ALTER TABLE statistics ADD COLUMN correct_answers INTEGER NOT NULL DEFAULT 0",
    "ALTER TABLE statistics ADD COLUMN total_answers INTEGER NOT NULL DEFAULT 0",
    "ALTER TABLE statistics ADD COLUMN average_answer_time REAL NOT NULL DEFAULT 0.0",
    "ALTER TABLE statistics ADD COLUMN total_games INTEGER NOT NULL DEFAULT 0",
    "ALTER TABLE statistics ADD COLUMN overall_score REAL NOT NULL DEFAULT 0.0",
]
output_generated_schema_for_your_information_do_not_edit = """
  CREATE TABLE _turbosql_migrations (
    rowid INTEGER PRIMARY KEY,
    migration TEXT NOT NULL
  ) STRICT
  CREATE TABLE answer (
    rowid INTEGER PRIMARY KEY,
    content TEXT NOT NULL DEFAULT '',
    correct INTEGER NOT NULL DEFAULT false,
    question_id INTEGER NOT NULL DEFAULT 0
  ) STRICT
  CREATE TABLE question (
    rowid INTEGER PRIMARY KEY,
    content TEXT NOT NULL DEFAULT ''
  ) STRICT
  CREATE TABLE statistics (
    rowid INTEGER PRIMARY KEY,
    correct_answers INTEGER NOT NULL DEFAULT 0,
    total_answers INTEGER NOT NULL DEFAULT 0,
    average_answer_time REAL NOT NULL DEFAULT 0.0,
    total_games INTEGER NOT NULL DEFAULT 0,
    overall_score REAL NOT NULL DEFAULT 0.0
  ) STRICT
  CREATE TABLE user (
    rowid INTEGER PRIMARY KEY,
    username TEXT NOT NULL DEFAULT '',
    password TEXT NOT NULL DEFAULT '',
    email TEXT NOT NULL DEFAULT '',
    phone TEXT NOT NULL DEFAULT '',
    city TEXT NOT NULL DEFAULT '',
    street TEXT NOT NULL DEFAULT '',
    apartment INTEGER NOT NULL DEFAULT 0,
    birth_date TEXT NOT NULL DEFAULT ''
  ) STRICT
"""

[output_generated_tables_do_not_edit.answer]
name = "answer"

[[output_generated_tables_do_not_edit.answer.columns]]
name = "rowid"
rust_type = "Option < i64 >"
sql_type = "INTEGER PRIMARY KEY"

[[output_generated_tables_do_not_edit.answer.columns]]
name = "content"
rust_type = "String"
sql_type = "TEXT NOT NULL"

[[output_generated_tables_do_not_edit.answer.columns]]
name = "correct"
rust_type = "bool"
sql_type = "INTEGER NOT NULL"

[[output_generated_tables_do_not_edit.answer.columns]]
name = "question_id"
rust_type = "i64"
sql_type = "INTEGER NOT NULL"

[output_generated_tables_do_not_edit.question]
name = "question"

[[output_generated_tables_do_not_edit.question.columns]]
name = "rowid"
rust_type = "Option < i64 >"
sql_type = "INTEGER PRIMARY KEY"

[[output_generated_tables_do_not_edit.question.columns]]
name = "content"
rust_type = "String"
sql_type = "TEXT NOT NULL"

[output_generated_tables_do_not_edit.statistics]
name = "statistics"

[[output_generated_tables_do_not_edit.statistics.columns]]
name = "rowid"
rust_type = "Option < i64 >"
sql_type = "INTEGER PRIMARY KEY"

[[output_generated_tables_do_not_edit.statistics.columns]]
name = "correct_answers"
rust_type = "i64"
sql_type = "INTEGER NOT NULL"

[[output_generated_tables_do_not_edit.statistics.columns]]
name = "total_answers"
rust_type = "i64"
sql_type = "INTEGER NOT NULL"

[[output_generated_tables_do_not_edit.statistics.columns]]
name = "average_answer_time"
rust_type = "f64"
sql_type = "REAL NOT NULL"

[[output_generated_tables_do_not_edit.statistics.columns]]
name = "total_games"
rust_type = "i64"
sql_type = "INTEGER NOT NULL"

[[output_generated_tables_do_not_edit.statistics.columns]]
name = "overall_score"
rust_type = "f64"
sql_type = "REAL NOT NULL"

[output_generated_tables_do_not_edit.user]
name = "user"

[[output_generated_tables_do_not_edit.user.columns]]
name = "rowid"
rust_type = "Option < i64 >"
sql_type = "INTEGER PRIMARY KEY"

[[output_generated_tables_do_not_edit.user.columns]]
name = "username"
rust_type = "String"
sql_type = "TEXT NOT NULL"

[[output_generated_tables_do_not_edit.user.columns]]
name = "password"
rust_type = "String"
sql_type = "TEXT NOT NULL"

[[output_generated_tables_do_not_edit.user.columns]]
name = "email"
rust_type = "String"
sql_type = "TEXT NOT NULL"

[[output_generated_tables_do_not_edit.user.columns]]
name = "phone"
rust_type = "String"
sql_type = "TEXT NOT NULL"

[[output_generated_tables_do_not_edit.user.columns]]
name = "city"
rust_type = "String"
sql_type = "TEXT NOT NULL"

[[output_generated_tables_do_not_edit.user.columns]]
name = "street"
rust_type = "String"
sql_type = "TEXT NOT NULL"

[[output_generated_tables_do_not_edit.user.columns]]
name = "apartment"
rust_type = "u32"
sql_type = "INTEGER NOT NULL"

[[output_generated_tables_do_not_edit.user.columns]]
name = "birth_date"
rust_type = "String"
sql_type = "TEXT NOT NULL"
